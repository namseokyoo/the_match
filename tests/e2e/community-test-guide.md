# 커뮤니티 게시판 E2E 테스트 가이드

## 개요
The Match 플랫폼의 커뮤니티 게시판 기능에 대한 종합적인 End-to-End 테스트입니다.

## 테스트 구성

### 1. 게시글 조회 테스트
- **커뮤니티 페이지 접근 및 기본 요소 확인**: 페이지 로딩, 제목, 카테고리 버튼 확인
- **게시글 목록 표시 확인**: 게시글 카드 요소들(제목, 작성자, 조회수 등) 검증
- **게시글 상세 보기**: 상세 페이지 이동, 내용 확인, 목록 돌아가기
- **카테고리별 필터링**: 전체, 자유게시판, 팀원모집, 경기후기 필터 기능

### 2. 게시글 작성 테스트 (로그인 필요)
- **로그인하지 않은 상태에서 글쓰기 접근 시도**: 권한 검증 및 리다이렉트
- **로그인 후 게시글 작성**: 폼 입력, 카테고리 선택, 등록 프로세스

### 3. 게시글 수정/삭제 테스트
- **본인 게시글 수정 권한 확인**: 작성자만 수정/삭제 버튼 표시
- **타인 게시글 수정 시도**: 권한 없음 확인

### 4. 상호작용 테스트
- **좋아요 기능**: 로그인 상태에 따른 좋아요 동작 확인
- **조회수 증가 확인**: 게시글 조회 시 조회수 증가 검증
- **댓글 작성**: 로그인 필요 메시지 및 댓글 작성 기능

### 5. 검색 기능 테스트
- **게시글 검색**: 검색창 입력 및 결과 확인

### 6. 모바일 반응형 테스트
- **모바일 뷰에서 커뮤니티 페이지**: 375x667 뷰포트에서 UI 요소 확인

### 7. 접근성 테스트
- **키보드 네비게이션**: Tab 키를 통한 요소 접근
- **스크린 리더 지원**: alt 텍스트, aria-label 등 확인

## 실행 방법

### 전체 테스트 실행
```bash
npx playwright test tests/e2e/community.spec.ts
```

### 특정 브라우저에서만 실행
```bash
npx playwright test tests/e2e/community.spec.ts --project=chromium
```

### 특정 테스트 그룹 실행
```bash
# 게시글 조회 테스트만
npx playwright test tests/e2e/community.spec.ts --grep="게시글 조회 테스트"

# 상호작용 테스트만
npx playwright test tests/e2e/community.spec.ts --grep="상호작용 테스트"

# 모바일 반응형 테스트만
npx playwright test tests/e2e/community.spec.ts --grep="모바일 반응형 테스트"
```

### 헤드리스 모드에서 실행 (브라우저 창 표시)
```bash
npx playwright test tests/e2e/community.spec.ts --headed
```

### 디버그 모드로 실행
```bash
npx playwright test tests/e2e/community.spec.ts --debug
```

## 테스트 데이터

### 기본 설정
- **베이스 URL**: `https://the-match-five.vercel.app`
- **테스트 계정**: `testuser@example.com / testpassword123`

### 동적 테스트 데이터
테스트 실행 시마다 타임스탬프를 포함한 고유한 데이터 생성:
- 게시글 제목: `Test Post {timestamp}`
- 게시글 내용: `테스트 게시글입니다`
- 카테고리: `자유게시판`

## 테스트 결과 확인

### HTML 리포트 보기
```bash
npx playwright show-report
```

### 테스트 실패 시 디버깅
- 스크린샷: `test-results/` 디렉토리에 자동 저장
- 비디오: 실패한 테스트의 전체 과정 녹화
- 에러 컨텍스트: 상세한 오류 정보 파일

## 주요 특징

### 1. 안정성
- 동적 셀렉터 사용으로 UI 변경에 강함
- 타임아웃 및 대기 처리로 네트워크 지연 대응
- 조건부 테스트로 다양한 상황 처리

### 2. 독립성
- 각 테스트는 독립적으로 실행 가능
- BeforeEach 훅으로 초기 상태 보장
- 테스트 간 데이터 의존성 최소화

### 3. 포괄성
- 기본 기능부터 고급 기능까지 전체 사용자 플로우 커버
- 다양한 디바이스 및 브라우저 지원
- 접근성 및 사용성 검증 포함

### 4. 실용성
- 실제 프로덕션 환경에서 테스트
- 실제 사용자 시나리오 기반
- CI/CD 파이프라인에 통합 가능

## 테스트 커버리지

### ✅ 구현된 기능
- [x] 커뮤니티 페이지 접근
- [x] 게시글 목록 조회
- [x] 게시글 상세 보기
- [x] 카테고리 필터링
- [x] 로그인 권한 검증
- [x] 좋아요 기능
- [x] 조회수 확인
- [x] 모바일 반응형
- [x] 기본 접근성

### 🚧 추가 개발 필요
- [ ] 게시글 작성 기능 (로그인 후)
- [ ] 게시글 수정/삭제 기능
- [ ] 댓글 작성/수정/삭제
- [ ] 검색 기능
- [ ] 실시간 업데이트

## 문제 해결

### 일반적인 오류
1. **셀렉터 오류**: DOM 구조 변경 시 셀렉터 업데이트 필요
2. **타임아웃**: 네트워크 지연 시 `waitForLoadState` 시간 증가
3. **권한 오류**: 테스트 계정 상태 확인 필요

### 디버깅 팁
1. `--headed` 모드로 실행하여 브라우저 동작 확인
2. `console.log` 출력으로 테스트 진행 상황 추적
3. 스크린샷을 통한 시각적 디버깅

## 기여 가이드

### 새로운 테스트 추가
1. 기존 테스트 구조 참고
2. 독립적인 테스트 작성
3. 적절한 describe 그룹에 배치
4. 실패 시나리오도 함께 고려

### 테스트 수정
1. 변경 사항에 대한 영향도 분석
2. 전체 테스트 스위트 실행하여 회귀 확인
3. 문서 업데이트

이 테스트 스위트는 The Match 커뮤니티 게시판의 품질과 안정성을 보장하며, 지속적인 개발과 개선을 지원합니다.